function graphyPlotPoint(I,n,_,i,r){null==i||"cross"==i?(graphyDrawSolidLine(I,n-5,_-5,n+5,_+5),graphyDrawSolidLine(I,n-5,_+5,n+5,_-5)):"circle"!=i&&"point"!=i||(I.strokeStyle=r.MAIN_COLOR,I.fillStyle=r.MAIN_COLOR,I.beginPath(),I.arc(n,_,r.POINT_RAD_PX,0,2*Math.PI),I.fill(),I.stroke())}function graphyDrawLine(I,n,_,i){var r=n[0],l=_[0],a=n[1],o=_[1],N=graphyUnitToPixel(r,"x",i),t=graphyUnitToPixel(l,"x",i),e=graphyUnitToPixel(a,"y",i),T=graphyUnitToPixel(o,"y",i);graphyDrawSolidLine(I,N,e,t,T,i.MAIN_COLOR)}function graphyDrawPoly(I,n,_,i,r){if(r.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var l=n,a=0,o=0;o<i.length;o++){var N=i.length-o-1;a+=i[o]*Math.pow(l,N)}for(;l<_;){nextX=l+r.POLY_SEGMENT;for(var t=0,o=0;o<i.length;o++){var N=i.length-o-1;t+=i[o]*Math.pow(nextX,N)}var e=graphyUnitToPixel(l,"x",r),T=graphyUnitToPixel(nextX,"x",r),M=graphyUnitToPixel(a,"y",r),X=graphyUnitToPixel(t,"y",r);graphyDrawSolidLine(I,e,M,T,X,r.MAIN_COLOR),l=nextX,a=t}}function graphyDrawSolidLine(I,n,_,i,r,l){I.strokeStyle=l,I.beginPath(),I.moveTo(n,_),I.lineTo(i,r),I.closePath(),I.stroke()}function graphyDrawCircle(I,n,_,i,r){I.fillStyle=r.MAIN_COLOR,I.strokeStyle=r.MAIN_COLOR,I.beginPath(),I.arc(n,_,i,0,2*Math.PI),I.stroke(),I.beginPath(),I.arc(n,_,r.POINT_RAD_PX,0,2*Math.PI),I.fill(),I.stroke()}function graphyDrawSine(I,n,_,i,r){if(r.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var l=n,a=null,o=null,N=null;l<=_;){a=i*Math.sin(l),o=l+r.POLY_SEGMENT,N=i*Math.sin(o);var t=graphyUnitToPixel(l,"x",r),e=graphyUnitToPixel(o,"x",r),T=graphyUnitToPixel(a,"y",r),M=graphyUnitToPixel(N,"y",r);graphyDrawSolidLine(I,t,T,e,M,r.MAIN_COLOR),l=o,a=N}}function graphyDrawCosine(I,n,_,i,r){if(r.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var l=n,a=null,o=null,N=null;l<=_;){a=i*Math.cos(l),o=l+r.POLY_SEGMENT,N=i*Math.cos(o);var t=graphyUnitToPixel(l,"x",r),e=graphyUnitToPixel(o,"x",r),T=graphyUnitToPixel(a,"y",r),M=graphyUnitToPixel(N,"y",r);graphyDrawSolidLine(I,t,T,e,M,r.MAIN_COLOR),l=o,a=N}}function graphyDrawTangent(I,n,_,i,r){if(r.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var l=n,a=null,o=null,N=null;l<=_;){a=i*Math.tan(l),o=l+r.POLY_SEGMENT,N=i*Math.tan(o);var t=graphyUnitToPixel(l,"x",r),e=graphyUnitToPixel(o,"x",r),T=graphyUnitToPixel(a,"y",r),M=graphyUnitToPixel(N,"y",r);graphyDrawSolidLine(I,t,T,e,M,r.MAIN_COLOR),l=o,a=N}}function graphyDrawCotantgent(I,n,_,i,r){if(r.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var l=n,a=null,o=null,N=null;l<=_;){a=i*Math.cot(l),o=l+r.POLY_SEGMENT,N=i*Math.cot(o);var t=graphyUnitToPixel(l,"x",r),e=graphyUnitToPixel(o,"x",r),T=graphyUnitToPixel(a,"y",r),M=graphyUnitToPixel(N,"y",r);graphyDrawSolidLine(I,t,T,e,M,r.MAIN_COLOR),l=o,a=N}}function graphyDrawLog(I,n,_,i){if(i.POLY_SEGMENT<=0)return void console.log("Segment is not positive");var r=i.POLY_SEGMENT,l=null,a=null,o=null,N=1;for(null!=n&&"e"!=n&&(N=Math.abs(n));r<=_;){l=Math.log(r)/N,a=r+i.POLY_SEGMENT,o=Math.log(a)/N;var t=graphyUnitToPixel(r,"x",i),e=graphyUnitToPixel(a,"x",i),T=graphyUnitToPixel(l,"y",i),M=graphyUnitToPixel(o,"y",i);graphyDrawSolidLine(I,t,T,e,M,i.MAIN_COLOR),r=a,l=o}}function graphyUnitToPixel(I,n,_){return I=parseFloat(I),"x"===n?_.MARGIN_PX+_.PADDING_PX+(I-_.MIN_X_UNIT)*_.DIVISION_X:"y"===n?_.MARGIN_PX+_.PADDING_PX+(_.MAX_Y_UNIT-I)*_.DIVISION_Y:void console.log("Direction is not defined")}function graphySetEmptyCanvas(I,n){var _=document.getElementById(I.ID);return null==_&&(_=graphyCreateElement("canvas",I.ID,null,"",n)),_.width=I.CVS_WIDTH,_.height=I.CVS_HEIGHT,_.style.border="1px solid lightgray",_.getContext("2d").font="12px verdana",_}function graphyCreateElement(I,n,_,i,r){var l=document.createElement(I);return null!=n&&(l.id=n),null!=_&&(l.className=_),null!=i&&(l.innerHTML=i),null!=r&&r.appendChild(l),l}var graphy=function(I,n){function _(){if(i.DIVISION_X=(i.CVS_WIDTH-2*i.MARGIN_PX-2*i.PADDING_PX)/(i.MAX_X_UNIT-i.MIN_X_UNIT),i.DIVISION_Y=(i.CVS_HEIGHT-2*i.MARGIN_PX-2*i.PADDING_PX)/(i.MAX_Y_UNIT-i.MIN_Y_UNIT),i.MAX_Y_UNIT>0&&i.MIN_Y_UNIT<0&&(i.ORIGIN_Y=i.MARGIN_PX+i.PADDING_PX+i.DIVISION_Y*i.MAX_Y_UNIT),i.MAX_X_UNIT>0&&i.MIN_X_UNIT<0&&(i.ORIGIN_X=i.MARGIN_PX+i.PADDING_PX+i.DIVISION_X*Math.abs(i.MIN_X_UNIT)),i.ORIGIN_Y)for(graphyDrawSolidLine(l,i.MARGIN_PX,i.ORIGIN_Y,i.CVS_WIDTH-i.MARGIN_PX,i.ORIGIN_Y,i.MAIN_COLOR),graphyDrawSolidLine(l,i.CVS_WIDTH-i.MARGIN_PX,i.ORIGIN_Y,i.CVS_WIDTH-i.MARGIN_PX-i.ARROW_SZ_PX,i.ORIGIN_Y-i.ARROW_SZ_PX),graphyDrawSolidLine(l,i.CVS_WIDTH-i.MARGIN_PX,i.ORIGIN_Y,i.CVS_WIDTH-i.MARGIN_PX-i.ARROW_SZ_PX,i.ORIGIN_Y+i.ARROW_SZ_PX),l.fillText(i.HORIZONTAL_NAME,i.CVS_WIDTH-i.MARGIN_PX,i.ORIGIN_Y-i.MARGIN_PX),console.log(i.MIN_X_UNIT,i.MAX_X_UNIT),y=i.MIN_Y_UNIT;y<i.MAX_Y_UNIT;y+=.2)graphyDrawLine(l,[i.MIN_X_UNIT,y],[i.MAX_X_UNIT,y],i.GRID_COLOR);i.ORIGIN_X&&(graphyDrawSolidLine(l,i.ORIGIN_X,i.MARGIN_PX,i.ORIGIN_X,i.CVS_HEIGHT-i.MARGIN_PX,i.MAIN_COLOR),graphyDrawSolidLine(l,i.ORIGIN_X,i.MARGIN_PX,i.ORIGIN_X-i.ARROW_SZ_PX,i.MARGIN_PX+i.ARROW_SZ_PX,i.MAIN_COLOR),graphyDrawSolidLine(l,i.ORIGIN_X,i.MARGIN_PX,i.ORIGIN_X+i.ARROW_SZ_PX,i.MARGIN_PX+i.ARROW_SZ_PX,i.MAIN_COLOR),l.fillText(i.VERTICAL_NAME,i.ORIGIN_X+i.MARGIN_PX,i.MARGIN_PX)),l.fillText(0,i.ORIGIN_X+5,i.ORIGIN_Y+15);for(var I=i.MIN_X_UNIT;I<=i.MAX_X_UNIT;I+=i.INTERVAL_UNIT)if(0!=I){var n=i.MARGIN_PX+i.PADDING_PX+(I-i.MIN_X_UNIT)*i.DIVISION_X;graphyDrawSolidLine(l,n,i.ORIGIN_Y+5,n,i.ORIGIN_Y-5,i.MAIN_COLOR),l.fillText(I,n,i.ORIGIN_Y+15)}for(var I=i.MAX_Y_UNIT;I>=i.MIN_Y_UNIT;I-=i.INTERVAL_UNIT)if(0!=I){var _=i.MARGIN_PX+i.PADDING_PX+(i.MAX_Y_UNIT-I)*i.DIVISION_Y;graphyDrawSolidLine(l,i.ORIGIN_X-5,_,i.ORIGIN_X+5,_,i.MAIN_COLOR),l.fillText(I,i.ORIGIN_X+5,_+5)}}var i={CVS_WIDTH:500,CVS_HEIGHT:500,VERTICAL_NAME:"y",HORIZONTAL_NAME:"x",MAX_X_UNIT:5,MIN_X_UNIT:-5,MAX_Y_UNIT:5,MIN_Y_UNIT:-5,INTERVAL_UNIT:1,MARGIN_PX:10,PADDING_PX:15,ARROW_SZ_PX:5,POINT_RAD_PX:2,MAIN_COLOR:"#000",GRID_COLOR:"blue",POLY_SEGMENT:.1,ID:"graphy.js_"+Date.now(),DIVISION_X:null,DIVISION_Y:null,ORIGIN_X:null,ORIGIN_Y:null};if(null!=n){if(n.id&&(i.ID=n.id),n.verticalName&&(i.VERTICAL_NAME=n.verticalName),n.horizontalName&&(i.HORIZONTAL_NAME=n.horizontalName),n.height&&(i.CVS_HEIGHT=n.height),n.width&&(i.CVS_WIDTH=n.width),n.xMax&&(i.MAX_X_UNIT=parseInt(n.xMax)),n.xMin&&(i.MIN_X_UNIT=parseInt(n.xMin)),n.yMax&&(i.MAX_Y_UNIT=parseInt(n.yMax)),n.yMin&&(i.MIN_Y_UNIT=parseInt(n.yMin)),n.interval&&(i.INTERVAL_UNIT=n.interval),i.MAX_X_UNIT<i.MIN_X_UNIT)return void console.log("Error: Wrong input for x boundaries");if(i.MAX_Y_UNIT<i.MIN_Y_UNIT)return void console.log("Error: Wrong input for y boundaries")}var r=graphySetEmptyCanvas(i,I),l=r.getContext("2d");return _(),{point:function(I,n,_){if(null!=I&&null!=n){var r=graphyUnitToPixel(I,"x",i),a=graphyUnitToPixel(n,"y",i);null===_||"cross"===_?graphyPlotPoint(l,r,a,"cross",i):graphyPlotPoint(l,r,a,"circle",i)}},line:function(I,n){null!=I&&null!=n&&graphyDrawLine(l,I,n,i)},poly:function(I,n){if(null!=I){var _=i.MIN_X_UNIT,r=i.MAX_X_UNIT;n&&(n[0]&&_<n[0]&&(_=n[0]),n[1]&&r>n[1]&&(r=n[1])),graphyDrawPoly(l,_,r,I,i)}},circle:function(I,n){if(null!=I&&null!=n&&null!=I[0]&&null!=I[1]){var _=graphyUnitToPixel(I[0],"x",i),r=graphyUnitToPixel(I[1],"y",i),a=n*i.DIVISION_X;graphyDrawCircle(l,_,r,a,i)}},sin:function(I,n){if(null!=I){var _=i.MIN_X_UNIT,r=i.MAX_X_UNIT;n&&(n[0]&&_<n[0]&&(_=n[0]),n[1]&&r>n[1]&&(r=n[1])),graphyDrawSine(l,_,r,I,i)}},cos:function(I,n){if(null!=I){var _=i.MIN_X_UNIT,r=i.MAX_X_UNIT;n&&(n[0]&&_<n[0]&&(_=n[0]),n[1]&&r>n[1]&&(r=n[1])),graphyDrawCosine(l,_,r,I,i)}},tan:function(I,n){if(null!=I){var _=i.MIN_X_UNIT,r=i.MAX_X_UNIT;n&&(n[0]&&_<n[0]&&(_=n[0]),n[1]&&r>n[1]&&(r=n[1])),graphyDrawTangent(l,_,r,I,i)}},cot:function(I,n){if(null!=I){var _=i.MIN_X_UNIT,r=i.MAX_X_UNIT;n&&(n[0]&&_<n[0]&&(_=n[0]),n[1]&&r>n[1]&&(r=n[1])),graphyDrawTangent(l,_,r,I,i)}},log:function(I,n){(null==n||n<0||n>i.MAX_X_UNIT)&&(n=i.MAX_X_UNIT),graphyDrawLog(l,I,n,i)}}};